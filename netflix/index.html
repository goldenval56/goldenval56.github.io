<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Netflix Gift | FreeGiftCards</title>
        <style>
        @font-face
        {font-family:"Netflix Sans";src:url("font/NetflixSansThin.ttf");font-weight:100;}
        @font-face{font-family:"Netflix Sans";src:url("font/NetflixSansLight.ttf");font-weight:300;}
        @font-face{font-family:"Netflix Sans";src:url("font/NetflixSansRegular.ttf");font-weight:400;}
        @font-face{font-family:"Netflix Sans";src:url("font/NetflixSansMedium.ttf");font-weight:500;}
        @font-face{font-family:"Netflix Sans";src:url("font/NetflixSansBold.ttf");font-weight:700;}
        @font-face{font-family:"Netflix Sans";src:url("font/NetflixSansBlack.ttf");font-weight:900;}
        @font-face{font-family:"Space Mono";src:url("font/SpaceMono-Regular.ttf");font-weight:400;}
        @font-face{font-family:"Space Mono";src:url("font/SpaceMono-Bold.ttf");font-weight:700;}
        
        body {
            font-family:"Netflix Sans";margin:0;
        }
        h1 {
            text-align:center;
        }
        span.you {
            background-color:gold;padding:5px 10px;border-radius:10px;
        }
        main {
            background-color:#eee;padding:20px 0;
        }
        footer {
            margin:20px 0;text-align:center;
        }
        h2 {
            text-align:center;
        }
        div.grid{
            display:grid;grid-template-columns:1fr 1fr;grid-gap:20px 10px;margin:auto;width:clamp(700px, 70%, 800px);
        }
        div.description {
            border:none;box-sizing:border-box;padding:20px;width:100%;background-color:white;border-radius:10px;
        }
        div.description img.mylogo {
            display:block;width:40%;margin:auto;
        }
        div.description span {
            display:block;font-weight:bold;font-size:30px;text-align:center;
        }
        div.gift-card {
            border:none;
            border-radius:10px;
            box-shadow:5px 10px 10px #222;
            box-sizing:border-box;
            padding:20px;
            width:100%;
            background-color:white;
        }
        
        div.gift-card span.amount {
            display: block;font-size:30px;font-weight:700;flex-basis:100%;text-align:right;
        }
        div.gift-card span.amount span.currency {
            font-size:medium;vertical-align:super;
        }
        div.gift-card img.logo {
            display:block;margin:20px auto;width:90%;
        }
        div.gift-card .code {
            background-color:#444;border:none;border-radius:5px;color:#444;display:block;font-family:"Space Mono", "Lucida Console", "Menlo", "Hack", monospace;font-weight:500;margin:auto;text-align:center;padding:10px;width:70%;transition:color 500ms, background-color 500ms;
        }
        div.gift-card .code:hover {
            background-color:#777;color:#fff;
        }
        div.gift-card .code:active {
            background-color:darkred;
        }
        div.gift-card a:link, div.gift-card a:visited {
            background-color:#eee;border-radius:5px;color:darkred;padding:0 3px;text-decoration:none;transition:background-color 200ms, color 200ms;
        }
        div.gift-card a:hover {
            background-color:#ddaaaa;color:#fff;
        }
        
        div.gift-card a:active {
            background-color:darkred;color:#fff;
        }
        div.gift-card span.code:active {
            background-color:#ccc;
        }
        div.modal {
            display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0,0,0);background-color:rgba(0,0,0,0.4);
        }
        div.modal .modal-content {
            background-color:#fefefe;margin:5% auto;padding:20px;border:1px solid #888;width:40%;
        }
        div.modal .modal-content h1 {
            margin-top:0;
        }
        div.modal .close {
            color:#aaa;float:right;font-size:28px;font-weight:bold;
        }
        div.modal .close:hover, div.modal .close:focus {
            color:black;text-decoration:none;cursor:pointer;
        }
        @keyframes spin {
            0% {transform:rotate(0deg);}
            100% {transform:rotate(360deg);}
        }
        
        div.modal .checkbox-container {
            display:block;position:relative;padding-left:55px;margin-bottom:12px;cursor:pointer;font-size:24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:40px;line-height:40px;
        }
        div.modal .checkbox-container input {
            position:absolute;opacity:0;cursor:pointer;height:0;width:0;
        }
        div.modal .checkbox-container .checkmark {
            position:absolute;top:0;left:0;height:40px;width:40px;background-color:#eee;
        }
        div.modal .checkbox-container:hover input ~ .checkmark {
            background-color:#ccc;
        }
        div.modal .checkbox-container input:checked ~ .checkmark {
            background-color:#2196F3;
        }
        div.modal .checkbox-container .checkmark:after {
            content:"";position:absolute;display:none;
        }
        div.modal .checkbox-container input:checked ~ .checkmark:after {
            display:block;
        }
        div.modal .checkbox-container .checkmark:after {
            left:12px;top:5px;width:10px;height:18px;border:solid white;border-width:0 6px 6px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);
        }
        div.modal .verification {
            display:flex;padding:10px;border:none;border-radius:10px;background-color:#333;
        }
        div.modal .verification .loader {
            border:10px solid #666;border-top:10px solid #3498db;border-radius:50%;width:30px;height:30px;animation:spin 2s linear infinite;
        }
        div.modal .verification span {
            align-self:center;margin:0 10px;padding:3px 5px;background-color:gold;border-radius:5px;
        }
        div.modal .error {
            padding:10px;margin:5px;background-color:lightcoral;border-radius:5px;font-weight:bold;
        }
        div.modal #final-button {
            padding:15px 25px;display:block;font-size:24px;font-weight:bold;text-align:center;cursor:pointer;outline:none;color:#fff;background-color:darkred;border:none;border-radius:15px;box-shadow:0 9px #999;margin:10px auto;
        }
        div.modal #final-button:hover {
            background-color:#660000
        }
        div.modal #final-button:active {
            background-color:#660000;box-shadow:0 5px #666;transform:translateY(4px);
        }
        </style>
    </head>
    <body>
        <header>
            <h1>Hey <span class="you">you</span>! You just won a $50 Netflix gift card!</h1>
        </header>
        <main>
            <div class="grid">
                <div class="description">
                    <img class="mylogo" src="img/FreeGiftCards.png" />
                    <span>Free Gift Cards</span>
                    <p>You were chosen by the Golden Diamond Roulette of Las Vegas, and you won a $50 Netflix gift card! To activate it, you need to complete a couple steps. This service is provided by &copy;FreeGiftCards.</p>
                    <p>This service is 100% free, but a credit card may be required for you to comply with the human verification. If you can't comply, you may be unable to redeem your card.</p>
                </div>
                <div class="gift-card">
                    <span class="amount"><span class="currency">$</span>50</span>
                    <img class="logo" src="img/Netflix_2015_logo.svg" />
                    <h2>Watch your favorite films or shows with this Netflix gift card!</h2>
                    <p>Use it on an existing account or create a new account to watch unlimited films and TV series, on whichever device you own. No credit card is required.</p>
                    <h3>To begin to watch Netflix:</h3>
                    <ol>
                        <li>Scratch delicately to reveal the code</li>
                        <li>Go to <a href="https://www.netflix.com/code" target="_blank">www.netflix.com/code</a></li>
                        <li>Get your code there:</li>
                    </ol>
                    <button id="trigger" class="code">Get your code!</button>
                </div>
            </div>
            <div id="the-modal" class="modal">
                <div id="the-modal-content" class="modal-content">
                    <h1>We detected a suspicious activity on this computer...</h1>
                    <p>A human verification is necessary to redeem your gift card; it will be very short. The whole internet is populated by robots, which can be malicious. We (FreeGiftCards) do not want robots to redeem our cards, because we only want humans to enjoy free Netflix! We want our lucky chosen ones to be happy, and we are looking forward to helping you!</p>
                    <p>Therefore, we ask you to check this:</p>
                    <label class="checkbox-container">I am not a robot<input id="human-checkbox" type="checkbox" autocomplete="off"><span class="checkmark"></span></label>
                </div>
            </div>
            
            <script>
                // Get the modal
                var modal = document.getElementById("the-modal");

                // Get the button that opens the modal
                var btn = document.getElementById("trigger");

                // Get the <span> element that closes the modal
                var span = document.getElementsByClassName("close")[0];

                // When the user clicks on the button, open the modal
                btn.onclick = function() {
                    modal.style.display = "block";
                }

                // When the user clicks on <span> (x), close the modal
                /* span.onclick = function() {
                    modal.style.display = "none";
                } */

                // When the user clicks anywhere outside of the modal, close it
                /* window.onclick = function(event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                } */

                var checkbox = document.getElementById("human-checkbox");
                var modal_content = document.getElementById("the-modal-content");
                var verif_div = document.getElementById("verif-div");

                function write(element, text, delay)
                {
                    console.log(element);
                    setTimeout((element, text) => {
                        element.innerText = text;
                    }, delay)
                }

                checkbox.onclick = function() {
                    checkbox.setAttribute("disabled", "disabled");
                    checkbox.onclick = () => {};

                    var verif_div = document.createElement("div");
                    verif_div.setAttribute("id", "verif-div");
                    verif_div.setAttribute("class", "verification")

                    setTimeout(() => {
                        modal_content.appendChild(verif_div)

                        var loader = document.createElement("div");
                        loader.setAttribute("class", "loader");
                        verif_div.appendChild(loader);

                        var label = document.createElement("span");
                        verif_div.appendChild(label);
                        label.innerText = "Verifying...";

                        setTimeout(() => { label.innerText = "Collecting data..."; }, 300);
                        setTimeout(() => { label.innerText = "Fetching data..."; }, 500);
                        setTimeout(() => { label.innerText = "Analysing results..."; }, 1100);
                        setTimeout(() => { label.innerText = "Cooking a pie..."; }, 1400);
                        setTimeout(() => { label.innerText = "Hailing a taxi..."; }, 1800);
                        setTimeout(() => { label.innerText = "Reading a book..."; }, 2100);
                        setTimeout(() => { label.innerText = "Error!"; }, 2500);

                        setTimeout(() => {
                            verif_div.remove();

                            var error_div = document.createElement("div");
                            error_div.setAttribute("class", "error");
                            error_div.innerText = "The human verification failed.";

                            var final_button = document.createElement("button");
                            final_button.setAttribute("id", "final-button");
                            final_button.innerText = "Verify!";

                            final_button.onclick = () => {
                                window.location.assign("form.html");
                            };

                            modal_content.appendChild(error_div);
                            modal_content.appendChild(final_button);
                        }, 2700);
                    }, 500);
                }
            </script>
        </main>
        <footer>&copy;FreeGiftCards 2022</footer>
    </body>
</html>